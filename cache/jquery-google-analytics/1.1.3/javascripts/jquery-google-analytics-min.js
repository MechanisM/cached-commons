(function(c){var b;c.trackPage=function(h,e){var i=(("https:"==document.location.protocol)?"https://ssl.":"http://www.");var d;var g=c.extend({},{onload:true,status_code:200},e);var j=i+"google-analytics.com/ga.js";function f(){if(typeof _gat!=undefined){a("Google Analytics loaded");b=_gat._getTracker(h);if(g.status_code==null||g.status_code==200){b._trackPageview()}else{a("Tracking error "+g.status_code);b._trackPageview("/"+g.status_code+".html?page="+document.location.pathname+document.location.search+"&from="+document.referrer)}if(c.isFunction(g.callback)){g.callback()}}else{throw"_gat is undefined"}}load_script=function(){c.ajax({type:"GET",url:j,success:function(){f()},dataType:"script",cache:true})};if(g.onload==true||g.onload==null){c(window).load(load_script)}else{load_script()}};c.trackEvent=function(e,g,d,f){if(typeof b=="undefined"){a("FATAL: pageTracker is not defined")}else{b._trackEvent(e,g,d,f)}};c.trackPageview=function(d){if(typeof b=="undefined"){a("FATAL: pageTracker is not defined")}else{b._trackPageview(d)}};c.fn.track=function(d){return this.each(function(){var g=c(this);if(g.hasClass("tracked")){return false}else{g.addClass("tracked")}var h=c.extend({},c.fn.track.defaults,d);var j=e(g,h.category);var l=e(g,h.action);var f=e(g,h.label);var k=e(g,h.value);var m=e(g,h.event_name);var i="category:'"+j+"' action:'"+l+"' label:'"+f+"' value:'"+k+"'";a("Tracking "+m+" "+i);g.bind(m+".track",function(){var n=h.skip_internal&&(g[0].hostname==location.hostname);if(!n){c.trackEvent(j,l,f,k);a("Tracked "+i)}else{a("Skipped "+i)}return true})});function e(g,f){if(typeof f=="function"){f=f(g)}return f}};function a(d){if(typeof console!="undefined"&&typeof console.debug!="undefined"&&c.fn.track.defaults.debug){console.debug(d)}}c.fn.track.defaults={category:function(d){return(d[0].hostname==location.hostname)?"internal":"external"},action:"click",label:function(d){return d.attr("href")},value:null,skip_internal:true,event_name:"click",debug:false}})(jQuery);